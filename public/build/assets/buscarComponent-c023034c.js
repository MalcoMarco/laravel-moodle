import"./app-0d91dc04.js";import{n,V as i}from"./_plugin-vue2_normalizer-f70b0ffa.js";import{M as l}from"./vue-multiselect.min-cc2e7f2f.js";import{T as o}from"./index-9f6650dc.js";const _=a=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>{a(...s)},1500)}},c={data(){return{selectedusers:[],users:[],isLoading:!1,historial:{data:[]},busy:!1}},created(){this.asyncFind=_(a=>{a.length!=0&&(this.isLoading=!0,axios.get("/search_user?q="+a).then(t=>{this.users=t.data.data,this.isLoading=!1}))})},methods:{getHistorial(){var a;(a=this.selectedusers)!=null&&a.id&&(this.busy=!0,axios.get("/historial-clinico-historial/"+this.selectedusers.id).then(t=>{this.historial=t.data.historialClinico,this.busy=!1}))},selectedEvent(a){this.historial.data=[]}}};var d=function(){var t=this,s=t._self._c;return s("div",[s("h5",{staticClass:"text-center"},[t._v("Buscar Historial Clínico")]),s("label",{attrs:{for:"buscarusuario"}},[t._v("selecione usuario")]),s("multiselect",{attrs:{id:"buscarusuario",label:"firstname","track-by":"firstname",placeholder:"Buscar usuario...",options:t.users,searchable:!0,loading:t.isLoading,"internal-search":!1,"clear-on-select":!1},on:{"search-change":t.asyncFind,select:t.selectedEvent},scopedSlots:t._u([{key:"singleLabel",fn:function(e){return[s("div",{staticClass:"d-flex gap-3 align-items-center"},[s("img",{staticClass:"option__image",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.option.picture_url}}),s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.firstname+" "+e.option.lastname)+" ")])])])]}},{key:"option",fn:function(e){return[s("div",{staticClass:"d-flex gap-3 align-items-center"},[s("img",{staticClass:"option__image",staticStyle:{width:"40px",height:"40px"},attrs:{src:e.option.picture_url}}),s("div",{staticClass:"option__desc"},[s("span",{staticClass:"option__title"},[t._v(" "+t._s(e.option.firstname+" "+e.option.lastname)+" ")])])])]}}]),model:{value:t.selectedusers,callback:function(e){t.selectedusers=e},expression:"selectedusers"}},[s("template",{slot:"noOptions"},[s("span")]),s("template",{slot:"noResult"},[s("span")])],2),s("div",{staticClass:"text-"},[s("button",{staticClass:"btn btn-primary mt-4",on:{click:function(e){return t.getHistorial()}}},[t._v("Buscar")])]),t.busy?s("p",[t._v("cargando datos...")]):t._e(),t.busy?t._e():[s("div",{staticClass:"w-100 mt-4"},[t.selectedusers.id?s("div",[s("div",{staticClass:"w-100 d-flex justify-content-center mt-4 mb-2",staticStyle:{height:"100px"}},[s("img",{attrs:{src:t.selectedusers.picture_url}})]),s("table",{directives:[{name:"show",rawName:"v-show",value:t.selectedusers.id,expression:"selectedusers.id"}],staticClass:"table mb-3"},[s("tr",[s("th",[t._v("Apellidos y Nombres")]),s("td",[t._v(" "+t._s(t.selectedusers.firstname)+" "+t._s(t.selectedusers.lastname)+" ")])]),s("tr",[s("th",[t._v("Movil 1")]),s("td",[t._v(t._s(t.selectedusers.phone1))])]),s("tr",[s("th",[t._v("Movil 2")]),s("td",[t._v(t._s(t.selectedusers.phone2))])]),s("tr",[s("th",[t._v("Dirección")]),s("td",[t._v(t._s(t.selectedusers.address))])]),s("tr",[s("th",[t._v("Email")]),s("td",[t._v(t._s(t.selectedusers.email))])])])]):t._e(),s("hr"),t.historial.data.length?s("h6",{staticClass:"text-center"},[t._v("Historial Clínico")]):t._e(),t._l(t.historial.data,function(e,r){return s("div",{key:"h"+r,staticClass:"border p-4 mb-1"},[s("h6",[s("b",[t._v("Fecha Consulta: ")]),t._v(t._s(e.fecha_consulta)+" - "+t._s(e.hora_consulta)+" ")]),s("table",{staticClass:"table"},[t._m(0,!0),s("tr",[s("td",[t._v(t._s(e.talla))]),s("td",[t._v(t._s(e.peso))]),s("td",[t._v(t._s(e.mc))]),s("td",[t._v(t._s(e.grupo_sanguineo))]),s("td",[t._v(t._s(e.alergia?"Si":"No")+", "+t._s(e.alergia_especifique))]),s("td",[t._v(t._s(e.enfermedad)+" "+t._s(e.enfermedad_especifique))])])]),s("table",{staticClass:"table"},[t._m(1,!0),s("tr",[s("td",[t._v(t._s(e.motivo))]),s("td",[t._v(t._s(e.examen_fisico))]),s("td",[t._v(t._s(e.diagnostico))]),s("td",[t._v(t._s(e.tratamiento))]),s("td",[t._v(t._s(e.observacion))])])]),s("table",{staticClass:"table"},[t._m(2,!0),s("tr",[s("td",[t._v(t._s(e.pa))]),s("td",[t._v(t._s(e.fc))]),s("td",[t._v(t._s(e.fr))]),s("td",[t._v(t._s(e.tc))])])]),s("p",[s("b",[t._v("Personal que atendio la consulta:")]),t._v(" "+t._s(e.personal_a_cargo))])])})],2)]],2)},u=[function(){var a=this,t=a._self._c;return t("tr",[t("th",[a._v("Talla")]),t("th",[a._v("Peso")]),t("th",[a._v("MC")]),t("th",[a._v("Grupo Sanguineo")]),t("th",[a._v("Alergia")]),t("th",[a._v("Enfermedades")])])},function(){var a=this,t=a._self._c;return t("tr",[t("th",[a._v("Motivo")]),t("th",[a._v("Examen físico")]),t("th",[a._v("Diagnostico")]),t("th",[a._v("Tratamiento")]),t("th",[a._v("Observación")])])},function(){var a=this,t=a._self._c;return t("tr",[t("th",[a._v("PA")]),t("th",[a._v("FC")]),t("th",[a._v("FR")]),t("th",[a._v("T°C")])])}],v=n(c,d,u,!1,null,"2e31c83d",null,null);const h=v.exports;i.component("multiselect",l);i.use(o);new i({el:"#buscarComponent",components:{buscarComponent:h}});
