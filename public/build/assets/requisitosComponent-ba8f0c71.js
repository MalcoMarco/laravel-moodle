import"./app-0d91dc04.js";import{n as o,V as i}from"./_plugin-vue2_normalizer-f70b0ffa.js";import{B as l,a as r,b as d,V as u,M as m}from"./table-45e0f0c7.js";const c={components:{BModal:l,"b-table":r,"b-progress":d},directives:{"b-modal":u},data(){return{pagination:{data:[]},silabuReq:{name:"",orden:null,id:null},modal:!1,modalBussy:!1,fields:["#",{key:"name",sortable:!0},"Opciones"]}},created(){this.getData()},methods:{getData(){axios.get("/get-silabus-reqs").then(a=>{this.pagination=a.data})},saveData(){if(!this.$refs.form.checkValidity())return;let a="/silabus-reqs";this.silabuReq.id&&(a+="/"+this.silabuReq.id),this.modalBussy=!0,axios.post(a,this.silabuReq).then(e=>{this.getData(),this.closeModal()})},editItem(a){this.silabuReq.name=a.name,this.silabuReq.id=a.id,this.openModal()},deleteItem(a){this.$bvModal.msgBoxConfirm("Por favor, confirme que desea eliminar.",{title:"Confirmar",size:"sm",buttonSize:"sm",okVariant:"danger",okTitle:"Si, eliminar",cancelTitle:"No",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(e=>{e&&axios.delete("/silabus-reqs/"+a).then(t=>{this.getData(),this.closeModal()})})},openModal(){this.modal=!0},closeModal(){this.silabuReq.name="",this.silabuReq.id=null,this.modalBussy=!1,this.modal=!1}}};var b=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-tile mb-3"},[e._v("Establecer requisitos del s√≠labo")]),t("div",{staticClass:"w-100 text-end"},[t("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(s){return e.openModal()}}},[e._v(" Agregar ")])]),t("div",{staticClass:"table-responsive"},[t("b-table",{attrs:{responsive:"",striped:"",hover:"",items:e.pagination.data,fields:e.fields},scopedSlots:e._u([{key:"cell(#)",fn:function(s){return[e._v(" "+e._s(s.index+1)+" ")]}},{key:"cell(Opciones)",fn:function(s){return[t("button",{staticClass:"btn btn-success btn-sm me-3",on:{click:function(n){return e.editItem(s.item)}}},[t("i",{staticClass:"fas fa-edit"})]),t("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(n){return e.deleteItem(s.item.id)}}},[t("i",{staticClass:"fas fa-trash"})])]}}])})],1),t("b-modal",{attrs:{id:"modal-1",title:e.silabuReq.id?"Editar item":"Agregar nuevo item","hide-footer":""},on:{hidden:e.closeModal},model:{value:e.modal,callback:function(s){e.modal=s},expression:"modal"}},[t("form",{ref:"form",on:{submit:function(s){return s.preventDefault(),e.saveData.apply(null,arguments)}}},[t("div",{staticClass:"mb-3"},[t("label",{staticClass:"label-required"},[e._v("Nombre item")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.silabuReq.name,expression:"silabuReq.name"}],staticClass:"form-control form-control-sm",attrs:{type:"text",required:""},domProps:{value:e.silabuReq.name},on:{input:function(s){s.target.composing||e.$set(e.silabuReq,"name",s.target.value)}}})]),e.modalBussy?t("b-progress",{staticClass:"mt-1",attrs:{value:100,variant:"info",striped:"",animated:!0}}):e._e(),t("div",{staticClass:"modal-footer mt-1"},[t("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(s){return e.closeModal()}}},[e._v(" Close ")]),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v(" Guardar ")])])],1)])],1)])},f=[],p=o(c,b,f,!1,null,"e596ab6b",null,null);const v=p.exports;i.use(m);new i({el:"#requisitos-component",template:"<requisitos-component/>",components:{requisitosComponent:v}});
