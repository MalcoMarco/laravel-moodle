import"./app-0d91dc04.js";import{n as d,V as l}from"./_plugin-vue2_normalizer-f70b0ffa.js";import{M as p}from"./vue-multiselect.min-cc2e7f2f.js";import{T as h}from"./index-9f6650dc.js";const v=s=>{let t;return(...e)=>{clearTimeout(t),t=setTimeout(()=>{s(...e)},1500)}},f={data(){return{value:null,options:["list","of","options"],enfermedades:["Diabetes","VIH","TBC","Sobre peso","ETS"],selectedusers:[],users:[],isLoading:!1,historial:{mdl_user_id:null,talla:"",peso:"",imc:"",grupo_sanguineo:"",alergia:"0",alergia_especifique:"",enfermedad:[],enfermedad_especifique:"",fecha_consulta:null,hora_consulta:null,motivo:"",examen_fisico:"",diagnostico:"",tratamiento:"",observacion:"",personal_a_cargo:"",pa:"",fc:"",fr:"",tc:""}}},created(){this.asyncFind=v(s=>{s.length!=0&&(this.isLoading=!0,axios.get("/search_user?q="+s).then(t=>{this.users=t.data.data,this.isLoading=!1}))})},methods:{saveHistorial(){if(!this.selectedusers.id){this.warningAlert("Usuario es requerido");return}if(!this.historial.fecha_consulta||!this.historial.hora_consulta){this.warningAlert("Fecha y hora de consulta es requerido");return}this.historial.mdl_user_id=this.selectedusers.id,axios.post("/historial-clinico-store",this.historial).then(s=>{this.$bvToast.toast("se ha guardado los datos",{title:"Guardado",variant:"success",solid:!0,autoHideDelay:5e3}),setTimeout(function(){window.location.href="/historial-clinico"},1500)}).catch(s=>{})},warningAlert(s=""){this.$bvToast.toast("Complete el formulario",{title:s,variant:"warning",solid:!0,autoHideDelay:5e3})}}};var g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-tile mb-3"},[t._v("Crear Historial Clínico")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("h6",[t._v("Datos Generales")]),e("label",{staticClass:"label-required",attrs:{for:"multiselecUser"}},[t._v("Usuario")]),e("multiselect",{attrs:{id:"multiselecUser",label:"firstname","track-by":"firstname",placeholder:"Buscar usuario...",options:t.users,searchable:!0,loading:t.isLoading,"internal-search":!1,"clear-on-select":!1},on:{"search-change":t.asyncFind},scopedSlots:t._u([{key:"singleLabel",fn:function(a){return[e("div",{staticClass:"d-flex gap-3 align-items-center"},[e("img",{staticClass:"option__image",staticStyle:{width:"40px",height:"40px"},attrs:{src:a.option.picture_url}}),e("div",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(" "+t._s(a.option.firstname+" "+a.option.lastname)+" ")])])])]}},{key:"option",fn:function(a){return[e("div",{staticClass:"d-flex gap-3 align-items-center"},[e("img",{staticClass:"option__image",staticStyle:{width:"40px",height:"40px"},attrs:{src:a.option.picture_url}}),e("div",{staticClass:"option__desc"},[e("span",{staticClass:"option__title"},[t._v(" "+t._s(a.option.firstname+" "+a.option.lastname)+" ")])])])]}}]),model:{value:t.selectedusers,callback:function(a){t.selectedusers=a},expression:"selectedusers"}}),e("div",{staticClass:"w-100 d-flex justify-content-center mt-4 mb-2",staticStyle:{height:"100px"}},[e("img",{attrs:{src:t.selectedusers.picture_url}})]),e("table",{directives:[{name:"show",rawName:"v-show",value:t.selectedusers.id,expression:"selectedusers.id"}],staticClass:"table"},[e("tr",[e("th",[t._v("Apellidos y Nombres")]),e("td",[t._v(" "+t._s(t.selectedusers.firstname)+" "+t._s(t.selectedusers.lastname)+" ")])]),e("tr",[e("th",[t._v("Movil 1")]),e("td",[t._v(t._s(t.selectedusers.phone1))])]),e("tr",[e("th",[t._v("Movil 2")]),e("td",[t._v(t._s(t.selectedusers.phone2))])]),e("tr",[e("th",[t._v("Dirección")]),e("td",[t._v(t._s(t.selectedusers.address))])]),e("tr",[e("th",[t._v("Email")]),e("td",[t._v(t._s(t.selectedusers.email))])])])],1),e("div",{staticClass:"col-lg-6 border p-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-2 mb-3"},[e("label",{attrs:{for:"talla"}},[t._v("Talla")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.talla,expression:"historial.talla"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",id:"talla"},domProps:{value:t.historial.talla},on:{input:function(a){a.target.composing||t.$set(t.historial,"talla",a.target.value)}}})]),e("div",{staticClass:"col-lg-2 mb-3"},[e("label",{attrs:{for:"peso"}},[t._v("Peso")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.peso,expression:"historial.peso"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",id:"peso"},domProps:{value:t.historial.peso},on:{input:function(a){a.target.composing||t.$set(t.historial,"peso",a.target.value)}}})]),e("div",{staticClass:"col-lg-2 mb-3"},[e("label",{attrs:{for:"imc"}},[t._v("IMC")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.imc,expression:"historial.imc"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",id:"imc"},domProps:{value:t.historial.imc},on:{input:function(a){a.target.composing||t.$set(t.historial,"imc",a.target.value)}}})]),e("div",{staticClass:"col-lg-5 mb-3"},[e("label",{},[t._v("Grupo Sanguineo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.grupo_sanguineo,expression:"historial.grupo_sanguineo"}],staticClass:"form-control",attrs:{type:"text",maxlength:"20"},domProps:{value:t.historial.grupo_sanguineo},on:{input:function(a){a.target.composing||t.$set(t.historial,"grupo_sanguineo",a.target.value)}}})]),e("h6",[t._v("Alergia a algún medicamento")]),e("div",{staticClass:"ps-4"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.alergia,expression:"historial.alergia"}],staticClass:"form-check-input",attrs:{type:"radio",name:"alergia",id:"rsi",value:"1"},domProps:{checked:t._q(t.historial.alergia,"1")},on:{change:function(a){return t.$set(t.historial,"alergia","1")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"rsi"}},[t._v(" Si ")])]),e("div",{staticClass:"form-check mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.alergia,expression:"historial.alergia"}],staticClass:"form-check-input",attrs:{type:"radio",name:"alergia",id:"rno",checked:"",value:"0"},domProps:{checked:t._q(t.historial.alergia,"0")},on:{change:function(a){return t.$set(t.historial,"alergia","0")}}}),e("label",{staticClass:"form-check-label",attrs:{for:"rno"}},[t._v(" No ")])]),e("label",{attrs:{for:""}},[t._v("Especifique")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.alergia_especifique,expression:"historial.alergia_especifique"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"100"},domProps:{value:t.historial.alergia_especifique},on:{input:function(a){a.target.composing||t.$set(t.historial,"alergia_especifique",a.target.value)}}})]),e("h6",[t._v("Sufre de alguna enfermedad")]),e("div",{staticClass:"ps-4"},[t._l(t.enfermedades,function(a,r){return e("div",{key:"enf"+r,staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.enfermedad,expression:"historial.enfermedad"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"e"+r},domProps:{value:a,checked:Array.isArray(t.historial.enfermedad)?t._i(t.historial.enfermedad,a)>-1:t.historial.enfermedad},on:{change:function(m){var i=t.historial.enfermedad,n=m.target,u=!!n.checked;if(Array.isArray(i)){var c=a,o=t._i(i,c);n.checked?o<0&&t.$set(t.historial,"enfermedad",i.concat([c])):o>-1&&t.$set(t.historial,"enfermedad",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.historial,"enfermedad",u)}}}),e("label",{staticClass:"form-check-label",attrs:{for:"e"+r}},[t._v(" "+t._s(a)+" ")])])}),e("label",{staticClass:"mt-3",attrs:{for:""}},[t._v("Especifique")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.enfermedad_especifique,expression:"historial.enfermedad_especifique"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"200"},domProps:{value:t.historial.enfermedad_especifique},on:{input:function(a){a.target.composing||t.$set(t.historial,"enfermedad_especifique",a.target.value)}}})],2)])])]),e("div",{staticClass:"mt-5 border p-4"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto mb-3"},[e("label",{staticClass:"label-required",attrs:{for:"fecha_consulta"}},[t._v(" Fecha ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.fecha_consulta,expression:"historial.fecha_consulta"}],staticClass:"form-control",attrs:{type:"date",id:"fecha_consulta"},domProps:{value:t.historial.fecha_consulta},on:{input:function(a){a.target.composing||t.$set(t.historial,"fecha_consulta",a.target.value)}}})]),e("div",{staticClass:"col-auto mb-3"},[e("label",{staticClass:"label-required",attrs:{for:"hora"}},[t._v("Hora")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.hora_consulta,expression:"historial.hora_consulta"}],staticClass:"form-control",attrs:{type:"time",id:"hora"},domProps:{value:t.historial.hora_consulta},on:{input:function(a){a.target.composing||t.$set(t.historial,"hora_consulta",a.target.value)}}})])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-9"},[e("div",{staticClass:"w-100"},[e("label",{attrs:{for:""}},[t._v("Motivo de consulta")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.historial.motivo,expression:"historial.motivo"}],staticClass:"form-control mb-3",attrs:{name:"motivo",id:"motivo",rows:"2"},domProps:{value:t.historial.motivo},on:{input:function(a){a.target.composing||t.$set(t.historial,"motivo",a.target.value)}}}),e("label",{attrs:{for:""}},[t._v("Examen Físico")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.historial.examen_fisico,expression:"historial.examen_fisico"}],staticClass:"form-control mb-3",attrs:{name:"fisico",rows:"2"},domProps:{value:t.historial.examen_fisico},on:{input:function(a){a.target.composing||t.$set(t.historial,"examen_fisico",a.target.value)}}}),e("label",{attrs:{for:""}},[t._v("Diagnostico")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.diagnostico,expression:"historial.diagnostico"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"200"},domProps:{value:t.historial.diagnostico},on:{input:function(a){a.target.composing||t.$set(t.historial,"diagnostico",a.target.value)}}}),e("label",{attrs:{for:""}},[t._v("Tratamiento")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.historial.tratamiento,expression:"historial.tratamiento"}],staticClass:"form-control mb-3",domProps:{value:t.historial.tratamiento},on:{input:function(a){a.target.composing||t.$set(t.historial,"tratamiento",a.target.value)}}}),e("label",{attrs:{for:""}},[t._v("Observación")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.observacion,expression:"historial.observacion"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"200"},domProps:{value:t.historial.observacion},on:{input:function(a){a.target.composing||t.$set(t.historial,"observacion",a.target.value)}}}),e("label",{attrs:{for:""}},[t._v("Personal que atendio la consulta")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.personal_a_cargo,expression:"historial.personal_a_cargo"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"200"},domProps:{value:t.historial.personal_a_cargo},on:{input:function(a){a.target.composing||t.$set(t.historial,"personal_a_cargo",a.target.value)}}})])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("label",{attrs:{for:""}},[t._v("PA")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.pa,expression:"historial.pa"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"20"},domProps:{value:t.historial.pa},on:{input:function(a){a.target.composing||t.$set(t.historial,"pa",a.target.value)}}})]),e("div",{staticClass:"col-lg-6"},[e("label",{attrs:{for:""}},[t._v("FC")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.fc,expression:"historial.fc"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"20"},domProps:{value:t.historial.fc},on:{input:function(a){a.target.composing||t.$set(t.historial,"fc",a.target.value)}}})]),e("div",{staticClass:"col-lg-6"},[e("label",{attrs:{for:""}},[t._v("FR")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.fr,expression:"historial.fr"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"20"},domProps:{value:t.historial.fr},on:{input:function(a){a.target.composing||t.$set(t.historial,"fr",a.target.value)}}})]),e("div",{staticClass:"col-lg-6"},[e("label",{attrs:{for:""}},[t._v("T°C")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.historial.tc,expression:"historial.tc"}],staticClass:"form-control mb-3",attrs:{type:"text",maxlength:"20"},domProps:{value:t.historial.tc},on:{input:function(a){a.target.composing||t.$set(t.historial,"tc",a.target.value)}}})])])])])]),e("div",{staticClass:"w-100 text-end mt-3"},[e("button",{staticClass:"btn btn-success",on:{click:function(a){return t.saveHistorial()}}},[t._v(" Guardar ")])])])},_=[function(){var s=this,t=s._self._c;return t("h5",[t("i",{staticClass:"fas fa-comment-medical"}),s._v(" Consulta")])}],C=d(f,g,_,!1,null,"40bc5b47",null,null);const b=C.exports;l.component("multiselect",p);l.use(h);new l({el:"#crearHistorialClinico",components:{crearComponent:b}});
